<div [ngSwitch]="dispMode" class="dispmode" >
  <div *ngSwitchCase="DISPMODE.NONE">
    <div class="mdisp">
      <div class="mitem" >
        <label>word:</label> {{(mWord | async)?.$key}}
      </div>
      <div class="mitem" >
        <label>part:</label> {{(mWord | async)?.part}}
      </div>
      <div class="mitem" >
        <label>pronun:</label> {{(mWord | async)?.pronun}}
      </div>
      <div class="mitem" >
        <label>mss:</label> {{(mWord | async)?.mss}}
      </div>
      <div class="mitem" >
        <label>wss:</label> {{(mWord | async)?.wss}}
      </div>
      <div class="mitem" >
        <label>timestamp:</label> {{(mWord | async)?.timestamp}}
      </div>
      <div class="mitem" >
        <label>disp:</label> <span>{{(mWord | async)?.word}}</span>
      </div>
    </div>
  </div>
  <div *ngSwitchCase="DISPMODE.NEW">
    <div class="mdisp">
      <div class="mitem" >
        <label>word:</label><input type="text" #word (keyup.enter)="onNext($event, saveMword.word = word.value)" />
      </div>
      <div class="mitem" >
        <label>part:</label><input type="text" #part (keyup.enter)="onNext($event, saveMword.parts.a = part.value)" />
      </div>
      <div class="mitem" >
        <label>pronun:</label><input type="text" #pronun (keyup.enter)="onNext($event, saveMword.pronun = pronun.value)" />
      </div>
      <div class="mitem" >
        <label>mss:</label>
      </div>
      <div class="mitem" >
        <label>wss:</label>
      </div>
      <div class="mitem" >
        <label>timestamp:</label> {{(mWord | async)?.timestamp}}
      </div>
      <div class="mitem" >
        <label>disp:</label>
      </div>
    </div>
  </div>
  <div *ngSwitchCase="DISPMODE.EDIT">
    <div class="mdisp">
      <div class="mitem" >
        <label>word:</label> {{(mWord | async)?.$key}}
      </div>
      <div class="mitem" >
        <label>part:</label><input type="text" #part (keyup.enter)="onNext($event, saveMword.parts.a = part.value)" />
      </div>
      <div class="mitem" >
        <label>pronun:</label><input type="text" #pronun (keyup.enter)="onNext($event, saveMword.pronun = pronun.value)" />
      </div>
      <div class="mitem" >
        <label>mss:</label>{{(mWord | async)?.mss}}
      </div>
      <div class="mitem" >
        <label>wss:</label>{{(mWord | async)?.wss}}
      </div>
      <div class="mitem" >
        <label>timestamp:</label>{{(mWord | async)?.timestamp}}
      </div>
      <div class="mitem" >
        <label>disp:</label>
      </div>
    </div>
  </div>
</div>

<div class="action">
  <button (click)="onNew()">New</button>
  <button (click)="onEdit()">Edit</button>
  <button (click)="onSave()">Save</button>
  <button (click)="onDelete()">Delete</button>
</div>

{{diagMode}} {{INDEX}}
<!--
<div class="diagnostic">
  <b>{{ (mword | async)?.$key}}:</b>
  {{diagnostic}}
</div>
-->